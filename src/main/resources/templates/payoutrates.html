<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">urlto - B·∫£ng Gi√°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            background: linear-gradient(180deg, #0d1117 0%, #1a202c 100%);
            /* Unified background */
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Apply Noto Color Emoji to specific elements or globally if needed */
        .language-item span {
            font-family: 'Noto Color Emoji', 'Inter', sans-serif;
            /* Prioritize Noto Color Emoji for flags */
            font-size: 1.5em;
            /* Make emoji flags larger */
        }

        /* Navbar and Dropdown styles */
        .mobile-menu-transition {
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
            transform: translateY(-100%);
            opacity: 0;
            pointer-events: none;
        }

        .mobile-menu-transition.is-active {
            transform: translateY(0);
            opacity: 1;
            pointer-events: auto;
        }

        .dropdown-transition {
            display: none;
            /* Hidden by default */
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            /* Still allow visual transition */
        }

        .dropdown-transition.is-active {
            display: block;
            /* Instantly visible and interactive */
            max-height: 200px;
            /* Adjust based on content height */
            opacity: 1;
        }

        /* Table specific styles */
        .rates-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
            border-radius: 0.5rem;
            overflow: hidden;
            /* Ensures rounded corners apply to content */
        }

        .rates-table th,
        .rates-table td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid #2d3748;
            /* Darker border for rows */
        }

        .rates-table th {
            background-color: #2d3748;
            /* Darker header background */
            color: #e2e8f0;
            /* Light text for headers */
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.875rem;
            /* text-sm */
        }

        .rates-table td {
            background-color: #1a202c;
            /* Table cell background */
            color: #cbd5e0;
            /* Light gray text for content */
        }

        .rates-table tbody tr:last-child td {
            border-bottom: none;
            /* No border for the last row */
        }

        .rates-table tbody tr:hover td {
            background-color: #2d3748;
            /* Hover effect for rows */
        }

        /* Specific style for the "Worldwide Deal" row */
        .rates-table tbody tr.worldwide-deal td {
            font-weight: 700;
            /* font-bold */
            color: #4299e1;
            /* text-blue-400 */
        }

        /* Country flag styling */
        .country-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .country-item img {
            width: 24px;
            /* Adjust flag size */
            height: auto;
            border-radius: 2px;
        }
    </style>
</head>

<body class="bg-gray-100">

    <nav class="relative z-10 flex items-center justify-between p-4 md:p-6 lg:px-12 bg-gray-900 shadow-md">
        <div class="flex items-center space-x-2">
            <span id="site-name" class="text-xl md:text-2xl font-bold text-white">urlto</span>
        </div>

        <div class="md:hidden">
            <button id="mobile-menu-button"
                class="text-white focus:outline-none p-2 rounded-md hover:bg-white hover:bg-opacity-20 transition-all duration-200">
                <i class="fas fa-bars text-2xl"></i>
            </button>
        </div>

        <div class="hidden md:flex items-center space-x-6">
            <a href="${backendUrl}" id="nav-home" data-i18n-key="trang-chu" data-action="go-home"
                class="text-white hover:text-blue-300 transition-colors duration-200 font-medium px-2 py-1 rounded-md hover:bg-white hover:bg-opacity-10">TRANG
                CH·ª¶</a>
            <a href="#" id="nav-publisher-rates" data-action="go-payout-rates"
                class="text-white hover:text-blue-300 transition-colors duration-200 font-medium px-2 py-1 rounded-md hover:bg-white hover:bg-opacity-10">B·∫¢NG
                GI√Å</a>
            <a href="#" id="nav-payment-proof" data-i18n-key="bang-chung-thanh-toan"
                class="text-white hover:text-blue-300 transition-colors duration-200 font-medium px-2 py-1 rounded-md hover:bg-white hover:bg-opacity-10">B·∫∞NG
                CH·ª®NG THANH TO√ÅN</a>
            <a href="${backendUrl}/auth/login" id="nav-login" data-i18n-key="dang-nhap" data-action="go-login"
                class="text-white hover:text-blue-300 transition-colors duration-200 font-medium px-2 py-1 rounded-md hover:bg-white hover:bg-opacity-10">ƒêƒÇNG
                NH·∫¨P</a>
            <a href="${backendUrl}/auth/register" id="nav-signup" data-i18n-key="dang-ky" data-action="go-register"
                class="bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-600 transition-all duration-200 shadow-md transform hover:scale-105">ƒêƒÇNG
                K√ù</a>
            <div class="relative">
                <button id="language-button-desktop"
                    class="text-white text-lg cursor-pointer hover:text-blue-300 transition-colors duration-200 focus:outline-none p-2 rounded-md hover:bg-white hover:bg-opacity-20">
                    <i class="fas fa-globe"></i>
                </button>
                <div id="language-dropdown-desktop"
                    class="absolute top-full right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg z-30 dropdown-transition">
                    <a href="#"
                        class="flex items-center gap-2 px-4 py-2 text-white hover:bg-gray-700 rounded-t-md language-item"
                        data-lang="vi">
                        <span role="img" aria-label="Vietnam Flag">üáªüá≥</span> Ti·∫øng Vi·ªát
                    </a>
                    <a href="#"
                        class="flex items-center gap-2 px-4 py-2 text-white hover:bg-gray-700 rounded-b-md language-item"
                        data-lang="en">
                        <span role="img" aria-label="USA Flag">üá∫üá∏</span> English
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div id="mobile-menu"
        class="fixed inset-0 bg-gray-900 bg-opacity-95 p-6 z-20 flex flex-col items-center justify-center mobile-menu-transition">
        <div class="absolute top-4 right-4">
            <button id="close-mobile-menu-button"
                class="text-white focus:outline-none p-2 rounded-md hover:bg-white hover:bg-opacity-20 transition-all duration-200">
                <i class="fas fa-times text-2xl"></i>
            </button>
        </div>
        <div class="flex flex-col space-y-6 text-center w-full max-w-sm">
            <a href="${backendUrl}" id="mobile-nav-home" data-i18n-key="trang-chu" data-action="go-home"
                class="text-white text-xl font-medium py-2 rounded-md hover:bg-gray-800 transition-colors duration-200">TRANG
                CH·ª¶</a>
            <a href="#" id="mobile-nav-publisher-rates" data-action="go-payout-rates"
                class="text-white text-xl font-medium py-2 rounded-md hover:bg-gray-800 transition-colors duration-200">B·∫¢NG
                GI√Å</a>
            <a href="#" id="mobile-nav-payment-proof" data-i18n-key="bang-chung-thanh-toan"
                class="text-white text-xl font-medium py-2 rounded-md hover:bg-gray-800 transition-colors duration-200">B·∫∞NG
                CH·ª®NG THANH TO√ÅN</a>
            <a href="${backendUrl}/auth/login" id="mobile-nav-login" data-i18n-key="dang-nhap" data-action="go-login"
                class="text-white text-xl font-medium py-2 rounded-md hover:bg-gray-800 transition-colors duration-200">ƒêƒÇNG
                NH·∫¨P</a>
            <a href="${backendUrl}/auth/register" id="mobile-nav-signup" data-i18n-key="dang-ky"
                data-action="go-register"
                class="bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-600 transition-all duration-200 shadow-md w-max mx-auto transform hover:scale-105">ƒêƒÇNG
                K√ù</a>
            <div class="relative w-max mx-auto">
                <button id="language-button-mobile"
                    class="text-white text-xl cursor-pointer hover:text-blue-300 transition-colors duration-200 mt-4 focus:outline-none py-2 px-4 rounded-md hover:bg-gray-800 flex items-center gap-2">
                    <i class="fas fa-globe"></i> <span data-i18n-key="language-mobile-text">Ng√¥n ng·ªØ</span>
                </button>
                <div id="language-dropdown-mobile"
                    class="absolute w-full bg-gray-800 rounded-md shadow-inner text-center mt-2 dropdown-transition">
                    <a href="#"
                        class="flex items-center justify-center gap-2 px-4 py-2 text-white hover:bg-gray-700 language-item"
                        data-lang="vi">
                        <span role="img" aria-label="Vietnam Flag">üáªüá≥</span> Ti·∫øng Vi·ªát
                    </a>
                    <a href="#"
                        class="flex items-center justify-center gap-2 px-4 py-2 text-white hover:bg-gray-700 language-item"
                        data-lang="en">
                        <span role="img" aria-label="USA Flag">üá∫üá∏</span> English
                    </a>
                </div>
            </div>
        </div>
    </div>

    <main class="flex-grow flex flex-col items-center justify-start p-4 md:p-8">
        <div class="w-full max-w-4xl bg-gray-800 p-6 md:p-8 rounded-lg shadow-xl text-white">
            <h2 class="text-3xl font-bold text-center mb-6" data-i18n-key="why-choose-us-title">T·∫°i sao ch·ªçn ch√∫ng t√¥i?
            </h2>

            <ul class="list-disc list-inside space-y-2 mb-8 text-gray-300 text-lg">
                <li data-i18n-key="why-choose-us-1">Nh·∫≠n $1 ti·ªÅn th∆∞·ªüng khi ƒêƒÇNG K√ù</li>
                <li data-i18n-key="why-choose-us-2">T·ª∑ l·ªá CPM cao nh·∫•t th·∫ø gi·ªõi.</li>
                <li data-i18n-key="why-choose-us-3">Kh√¥ng c√≥ qu·∫£ng c√°o Pop-up g√¢y phi·ªÅn nhi·ªÖu.</li>
                <li data-i18n-key="why-choose-us-4">Thanh to√°n nhanh t·ª´ 2 ƒë·∫øn 5 ng√†y. (ƒê·ªëi v·ªõi l·∫ßn thanh to√°n ƒë·∫ßu ti√™n
                    s·∫Ω ho√†n th√†nh trong v√≤ng 1 - 2 ng√†y)</li>
                <li data-i18n-key="why-choose-us-5">Ph∆∞∆°ng th·ª©c thanh to√°n: PayPal, Payeer, UPI, BKash, OVO, DANA,
                    Airtm, USDT, Chuy·ªÉn kho·∫£n ng√¢n h√†ng,...</li>
                <li data-i18n-key="why-choose-us-6">H·ªó tr·ª£ 24/7 qua Email ho·∫∑c Telegram</li>
                <li data-i18n-key="why-choose-us-7">Xem B·∫±ng ch·ª©ng thanh to√°n t·∫°i: <a
                        href="https://droplink.co/payment-proof" target="_blank"
                        class="text-blue-400 hover:underline">Url.to/payment-proof</a></li>
            </ul>

            <h3 class="text-2xl font-bold text-center mb-6" data-i18n-key="earnings-table-title">B·∫£ng Gi√° Ki·∫øm Ti·ªÅn</h3>

            <div class="overflow-x-auto rounded-lg">
                <table class="rates-table">
                    <thead>
                        <tr>
                            <th data-i18n-key="table-header-country">M√¥ t·∫£ g√≥i / Qu·ªëc gia</th>
                            <th data-i18n-key="table-header-desktop">M√°y t√≠nh ƒë·ªÉ b√†n</th>
                            <th data-i18n-key="table-header-mobile">Di ƒë·ªông / M√°y t√≠nh b·∫£ng</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/us.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=US';"
                                        alt="United States Flag"> United States</span></td>
                            <td>$20.0000</td>
                            <td>$20.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/nl.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=NL';"
                                        alt="Netherlands Flag"> Netherlands</span></td>
                            <td>$18.0000</td>
                            <td>$18.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/gb.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=GB';"
                                        alt="United Kingdom Flag"> United Kingdom</span></td>
                            <td>$18.0000</td>
                            <td>$18.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/au.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=AU';"
                                        alt="Australia Flag"> Australia</span></td>
                            <td>$18.0000</td>
                            <td>$18.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/ca.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=CA';"
                                        alt="Canada Flag"> Canada</span></td>
                            <td>$17.0000</td>
                            <td>$17.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/de.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=DE';"
                                        alt="Germany Flag"> Germany</span></td>
                            <td>$17.0000</td>
                            <td>$17.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/br.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=BR';"
                                        alt="Brazil Flag"> Brazil</span></td>
                            <td>$17.0000</td>
                            <td>$17.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/mx.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=MX';"
                                        alt="Mexico Flag"> Mexico</span></td>
                            <td>$10.0000</td>
                            <td>$10.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/jp.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=JP';"
                                        alt="Japan Flag"> Japan</span></td>
                            <td>$10.0000</td>
                            <td>$10.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/it.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=IT';"
                                        alt="Italy Flag"> Italy</span></td>
                            <td>$10.0000</td>
                            <td>$10.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/sa.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=SA';"
                                        alt="Saudi Arabia Flag"> Saudi Arabia</span></td>
                            <td>$10.0000</td>
                            <td>$10.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/es.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=ES';"
                                        alt="Spain Flag"> Spain</span></td>
                            <td>$9.0000</td>
                            <td>$9.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/my.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=MY';"
                                        alt="Malaysia Flag"> Malaysia</span></td>
                            <td>$9.0000</td>
                            <td>$9.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/bd.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=BD';"
                                        alt="Bangladesh Flag"> Bangladesh</span></td>
                            <td>$9.0000</td>
                            <td>$9.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/in.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=IN';"
                                        alt="India Flag"> India</span></td>
                            <td>$9.0000</td>
                            <td>$9.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/id.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=ID';"
                                        alt="Indonesia Flag"> Indonesia</span></td>
                            <td>$9.0000</td>
                            <td>$9.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/vn.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=VN';"
                                        alt="Vietnam Flag"> Vietnam</span></td>
                            <td>$9.0000</td>
                            <td>$9.0000</td>
                        </tr>
                        <tr>
                            <td><span class="country-item"><img src="https://flagcdn.com/eg.svg"
                                        onerror="this.onerror=null;this.src='https://placehold.co/24x18/cccccc/000000?text=EG';"
                                        alt="Egypt Flag"> Egypt</span></td>
                            <td>$9.0000</td>
                            <td>$9.0000</td>
                        </tr>
                        <tr class="worldwide-deal">
                            <td data-i18n-key="worldwide-deal">Worldwide Deal (All Countries)</td>
                            <td>$8.0000</td>
                            <td>$8.0000</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <footer class="bg-black text-white py-10 px-4">
        <div class="container mx-auto text-center md:flex md:justify-between md:items-center">
            <p class="mb-4 md:mb-0 text-gray-400" data-i18n-key="copyright">&copy; 2025 <span
                    id="footer-site-name">urlto</span>. T·∫•t c·∫£ c√°c quy·ªÅn ƒë∆∞·ª£c b·∫£o
                l∆∞u.</p>
            <div class="flex justify-center space-x-6">
                <a href="#" class="hover:text-blue-300 transition-colors duration-200 text-gray-400"
                    data-i18n-key="privacy-policy">Ch√≠nh s√°ch b·∫£o m·∫≠t</a>
                <a href="#" class="hover:text-blue-300 transition-colors duration-200 text-gray-400"
                    data-i18n-key="terms-of-service">ƒêi·ªÅu kho·∫£n d·ªãch v·ª•</a>
                <a href="#" class="hover:text-blue-300 transition-colors duration-200 text-gray-400"
                    data-i18n-key="contact">Li√™n h·ªá</a>
            </div>
            <div class="mt-4 md:mt-0">
                <p class="text-gray-500 text-sm">
                    <span data-i18n-key="developed-by">Ph√°t tri·ªÉn b·ªüi</span>
                    <a id="author-link" href="#" target="_blank"
                        class="text-blue-400 hover:text-blue-300 transition-colors duration-200">
                        <span id="github-name">ShyDev</span>
                    </a>
                </p>
            </div>
        </div>
    </footer>

    <script>
        // Global variables for backend URL and app info
        let backendUrl = '';
        let appInfo = {};
        let currentLang = 'vi'; // Default language

        // Map of translatable elements and their translations
        const translatableElements = {
            'trang-chu': {
                'vi': 'TRANG CH·ª¶',
                'en': 'HOME'
            },
            'bang-gia': {
                'vi': 'B·∫¢NG GI√Å',
                'en': 'PUBLISHER RATES'
            },
            'bang-chung-thanh-toan': {
                'vi': 'B·∫∞NG CH·ª®NG THANH TO√ÅN',
                'en': 'PAYMENT PROOF'
            },
            'dang-nhap': {
                'vi': 'ƒêƒÇNG NH·∫¨P',
                'en': 'LOGIN'
            },
            'dang-ky': {
                'vi': 'ƒêƒÇNG K√ù',
                'en': 'SIGN UP'
            },
            'copyright': {
                'vi': `&copy; 2025 %WEB_NAME%. T·∫•t c·∫£ c√°c quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.`,
                'en': `&copy; 2025 %WEB_NAME%. All rights reserved.`
            },
            'privacy-policy': {
                'vi': 'Ch√≠nh s√°ch b·∫£o m·∫≠t',
                'en': 'Privacy Policy'
            },
            'terms-of-service': {
                'vi': 'ƒêi·ªÅu kho·∫£n d·ªãch v·ª•',
                'en': 'Terms of Service'
            },
            'contact': {
                'vi': 'Li√™n h·ªá',
                'en': 'Contact'
            },
            'language-mobile-text': {
                'vi': 'Ng√¥n ng·ªØ',
                'en': 'Language'
            },
            'developed-by': {
                'vi': 'Ph√°t tri·ªÉn b·ªüi',
                'en': 'Developed by'
            },
            // Publisher Rates specific translations
            'why-choose-us-title': {
                'vi': 'T·∫°i sao ch·ªçn ch√∫ng t√¥i?',
                'en': 'Why choose us?'
            },
            'why-choose-us-1': {
                'vi': 'Nh·∫≠n $1 ti·ªÅn th∆∞·ªüng khi ƒêƒÇNG K√ù',
                'en': 'Get $1 bonus for SIGN UP'
            },
            'why-choose-us-2': {
                'vi': 'T·ª∑ l·ªá CPM cao nh·∫•t th·∫ø gi·ªõi.',
                'en': 'Highest CPM rate in the world.'
            },
            'why-choose-us-3': {
                'vi': 'Kh√¥ng c√≥ qu·∫£ng c√°o Pop-up g√¢y phi·ªÅn nhi·ªÖu.',
                'en': 'No annoying Pop-up ads.'
            },
            'why-choose-us-4': {
                'vi': 'Thanh to√°n nhanh t·ª´ 2 ƒë·∫øn 5 ng√†y. (ƒê·ªëi v·ªõi l·∫ßn thanh to√°n ƒë·∫ßu ti√™n s·∫Ω ho√†n th√†nh trong v√≤ng 1 - 2 ng√†y)',
                'en': 'Quick payment 2 to 5 day. (For the first payment will be completed within 1 - 2 days)'
            },
            'why-choose-us-5': {
                'vi': 'Ph∆∞∆°ng th·ª©c thanh to√°n: PayPal, Payeer, UPI, BKash, OVO, DANA, Airtm, USDT, Chuy·ªÉn kho·∫£n ng√¢n h√†ng,...',
                'en': 'Payment Method: PayPal, Payeer, UPI, BKash, OVO, DANA, Airtm, USDT, Bank Transfer,...'
            },
            'why-choose-us-6': {
                'vi': 'H·ªó tr·ª£ 24/7 qua Email ho·∫∑c Telegram',
                'en': 'Support 24/7 via Email or Telegram'
            },
            'why-choose-us-7': {
                'vi': 'Xem B·∫±ng ch·ª©ng thanh to√°n t·∫°i: ',
                'en': 'View Proof of Payment at: '
            },
            'earnings-table-title': {
                'vi': 'B·∫£ng Gi√° Ki·∫øm Ti·ªÅn',
                'en': 'Earnings Rates Table'
            },
            'table-header-country': {
                'vi': 'M√¥ t·∫£ g√≥i / Qu·ªëc gia',
                'en': 'Package Description / Country'
            },
            'table-header-desktop': {
                'vi': 'M√°y t√≠nh ƒë·ªÉ b√†n',
                'en': 'Desktop'
            },
            'table-header-mobile': {
                'vi': 'Di ƒë·ªông / M√°y t√≠nh b·∫£ng',
                'en': 'Mobile / Tablet'
            },
            'worldwide-deal': {
                'vi': '∆Øu ƒë√£i to√†n c·∫ßu (T·∫•t c·∫£ c√°c qu·ªëc gia)',
                'en': 'Worldwide Deal (All Countries)'
            }
        };

        // Function to apply translations
        function translatePage(lang) {
            currentLang = lang; // Update current language global variable
            document.documentElement.lang = lang; // Update HTML lang attribute
            localStorage.setItem('preferredLang', lang); // L∆∞u ng√¥n ng·ªØ v√†o localStorage

            for (const key in translatableElements) {
                const elements = document.querySelectorAll(`[data-i18n-key="${key}"]`);
                elements.forEach(element => {
                    if (translatableElements[key] && translatableElements[key][lang]) {
                        let text = translatableElements[key][lang];
                        // Replace %WEB_NAME% placeholder with actual appInfo.webName
                        if (appInfo.webName) {
                            text = text.replace(/%WEB_NAME%/g, appInfo.webName);
                        } else {
                            // Fallback if appInfo.webName is not yet available
                            text = text.replace(/%WEB_NAME%/g, 'urlto');
                        }

                        if (element.tagName === 'INPUT' && element.getAttribute('placeholder') !== null) {
                            element.placeholder = text;
                        } else {
                            // For the payment proof link, only update the text content, not the entire innerHTML
                            if (key === 'why-choose-us-7') {
                                // Find the text node or create one if it doesn't exist
                                const textNode = Array.from(element.childNodes).find(node => node.nodeType === Node.TEXT_NODE);
                                if (textNode) {
                                    textNode.nodeValue = text;
                                } else {
                                    element.prepend(document.createTextNode(text));
                                }
                            } else {
                                element.innerHTML = text;
                            }
                        }
                    }
                });
            }

            const titleBase = lang === 'vi' ? 'B·∫£ng Gi√°' : 'Publisher Rates';
            document.getElementById('page-title').textContent = `${appInfo.webName || 'urlto'} - ${titleBase}`;
        }

        // API functions
        async function fetchBackendDomain() {
            try {
                const response = await fetch('http://localhost:8080/web/domain');
                const data = await response.json();
                if (data.message === 'Success.' && data.data) {
                    backendUrl = data.data;
                    console.log('Backend URL:', backendUrl);
                    return backendUrl;
                }
                throw new Error('Failed to fetch backend domain');
            } catch (error) {
                console.error('Error fetching backend domain:', error);
                backendUrl = 'http://localhost:8080'; // fallback
                console.warn('Using fallback backend URL:', backendUrl);
                return backendUrl;
            }
        }

        async function fetchAppInfo() {
            if (!backendUrl) {
                await fetchBackendDomain(); // Ensure backendUrl is set
            }
            try {
                const response = await fetch(`${backendUrl}/web/infor`);
                const data = await response.json();
                if (data.message === 'Success.' && data.data) {
                    appInfo = data.data;
                    console.log('App Info:', appInfo);
                    updatePageWithAppInfo();
                    return appInfo;
                }
                throw new Error('Failed to fetch app info');
            } catch (error) {
                console.error('Error fetching app info:', error);
                appInfo = {
                    webName: 'URLto',
                    gitHub: 'ShyDev',
                    author: 'https://github.com/dargits'
                };
                updatePageWithAppInfo();
                return appInfo;
            }
        }

        // Function to update page with app info
        function updatePageWithAppInfo() {
            if (appInfo.webName) {
                document.getElementById('site-name').textContent = appInfo.webName;
                const titleBase = currentLang === 'vi' ? 'B·∫£ng Gi√°' : 'Publisher Rates';
                document.getElementById('page-title').textContent = `${appInfo.webName} - ${titleBase}`;

                const footerSiteName = document.getElementById('footer-site-name');
                if (footerSiteName) {
                    footerSiteName.textContent = appInfo.webName;
                }
            }

            if (appInfo.author && appInfo.gitHub) {
                const authorLink = document.getElementById('author-link');
                const githubName = document.getElementById('github-name');

                if (authorLink) {
                    authorLink.href = appInfo.author;
                }
                if (githubName) {
                    githubName.textContent = appInfo.gitHub;
                }
            }
            // Re-apply translation after appInfo might change dynamic text placeholders
            translatePage(currentLang);
        }

        // JavaScript for mobile menu and language dropdowns
        document.addEventListener('DOMContentLoaded', async () => {
            await fetchBackendDomain();
            await fetchAppInfo();

            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const closeMobileMenuButton = document.getElementById('close-mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            const languageButtonDesktop = document.getElementById('language-button-desktop');
            const languageDropdownDesktop = document.getElementById('language-dropdown-desktop');
            const languageButtonMobile = document.getElementById('language-button-mobile');
            const languageDropdownMobile = document.getElementById('language-dropdown-mobile');

            // Kh·ªüi t·∫°o ng√¥n ng·ªØ: ∆Øu ti√™n t·ª´ localStorage, sau ƒë√≥ l√† ng√¥n ng·ªØ tr√¨nh duy·ªát, cu·ªëi c√πng l√† 'vi'
            const storedLang = localStorage.getItem('preferredLang');
            const userLang = navigator.language.split('-')[0];
            currentLang = (storedLang && (storedLang === 'vi' || storedLang === 'en')) ? storedLang :
                ((userLang === 'vi' || userLang === 'en') ? userLang : 'vi');
            translatePage(currentLang); // Ensure initial translation applies after appInfo is loaded


            // --- Navigation Link Handlers ---
            const homeLinks = document.querySelectorAll('[data-action="go-home"]');
            homeLinks.forEach(link => {
                link.addEventListener('click', async (e) => {
                    e.preventDefault();
                    if (backendUrl) {
                        window.location.href = backendUrl; // Navigate to the base domain
                    } else {
                        console.error('Backend URL not available for home navigation.');
                    }
                });
            });

            const payout_rates = document.querySelectorAll('[data-action="go-payout-rates"]');
            payout_rates.forEach(link => {
                link.addEventListener('click', async (e) => {
                    e.preventDefault();
                    if (backendUrl) {
                        window.location.href = `${backendUrl}/payout-rates`; // Navigate to the constructed URL

                    } else {
                        console.error('Backend URL not available for home navigation.');
                    }
                });
            });

            const navLoginLink = document.getElementById('nav-login');
            const mobileNavLoginLink = document.getElementById('mobile-nav-login');
            if (navLoginLink) {
                // Update href directly in HTML for consistency with other links
                navLoginLink.href = `${backendUrl}/auth/login`;
                navLoginLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    window.location.href = navLoginLink.href;
                });
            }
            if (mobileNavLoginLink) {
                // Update href directly in HTML for consistency with other links
                mobileNavLoginLink.href = `${backendUrl}/auth/login`;
                mobileNavLoginLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    window.location.href = mobileNavLoginLink.href;
                });
            }

            const navSignupLink = document.getElementById('nav-signup');
            const mobileNavSignupLink = document.getElementById('mobile-nav-signup');
            if (navSignupLink) {
                // Update href directly in HTML for consistency with other links
                navSignupLink.href = `${backendUrl}/auth/register`;
                navSignupLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    window.location.href = navSignupLink.href;
                });
            }
            if (mobileNavSignupLink) {
                // Update href directly in HTML for consistency with other links
                mobileNavSignupLink.href = `${backendUrl}/auth/register`;
                mobileNavSignupLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    window.location.href = mobileNavSignupLink.href;
                });
            }

            const navPublisherRatesLink = document.getElementById('nav-publisher-rates');
            const mobileNavPublisherRatesLink = document.getElementById('mobile-nav-publisher-rates');

            if (navPublisherRatesLink) {
                // Update href to match WebControler.java mapping
                navPublisherRatesLink.href = `${backendUrl}/payoutrates`;
                navPublisherRatesLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (backendUrl) {
                        window.location.href = navPublisherRatesLink.href;
                    }
                });
            }
            if (mobileNavPublisherRatesLink) {
                // Update href to match WebControler.java mapping
                mobileNavPublisherRatesLink.href = `${backendUrl}/payoutrates`;
                mobileNavPublisherRatesLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (backendUrl) {
                        window.location.href = mobileNavPublisherRatesLink.href;
                    }
                });
            }


            // Mobile Menu Logic
            if (mobileMenuButton && mobileMenu && closeMobileMenuButton) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.add('is-active');
                });

                closeMobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.remove('is-active');
                });

                mobileMenu.addEventListener('click', (e) => {
                    if (e.target === mobileMenu) {
                        mobileMenu.classList.remove('is-active');
                    }
                });
            }

            // Toggle language dropdown for desktop
            if (languageButtonDesktop && languageDropdownDesktop) {
                languageButtonDesktop.addEventListener('click', (event) => {
                    languageDropdownDesktop.classList.toggle('is-active');
                    event.stopPropagation(); // Prevent document click from immediately closing
                });

                languageDropdownDesktop.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', (event) => {
                        event.preventDefault();
                        const lang = link.getAttribute('data-lang');
                        translatePage(lang);
                        languageDropdownDesktop.classList.remove('is-active');
                        event.stopPropagation(); // Prevent document click from closing it after selection
                    });
                });

                // Close dropdown if clicked outside
                document.addEventListener('click', (event) => {
                    if (!languageDropdownDesktop.contains(event.target) && !languageButtonDesktop.contains(event.target)) {
                        languageDropdownDesktop.classList.remove('is-active');
                    }
                });
            }

            // Toggle language dropdown for mobile
            if (languageButtonMobile && languageDropdownMobile) {
                languageButtonMobile.addEventListener('click', (event) => {
                    languageDropdownMobile.classList.toggle('is-active');
                    event.stopPropagation(); // Prevent document click from immediately closing
                });

                languageDropdownMobile.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', (event) => {
                        event.preventDefault();
                        const lang = link.getAttribute('data-lang');
                        translatePage(lang);
                        languageDropdownMobile.classList.remove('is-active');
                        mobileMenu.classList.remove('is-active'); // Close mobile menu if language selected within it
                        event.stopPropagation(); // Prevent document click from closing it after selection
                    });
                });

                // Close dropdown if clicked outside its area or mobile menu.
                document.addEventListener('click', (event) => {
                    const isClickInsideMobileMenu = mobileMenu.contains(event.target);
                    const isClickOnMobileLangButton = languageButtonMobile.contains(event.target);
                    const isClickInsideMobileLangDropdown = languageDropdownMobile.contains(event.target);

                    if (!isClickOnMobileLangButton && !isClickInsideMobileLangDropdown) {
                        languageDropdownMobile.classList.remove('is-active');
                    }
                });
            }
        });
    </script>
</body>

</html>